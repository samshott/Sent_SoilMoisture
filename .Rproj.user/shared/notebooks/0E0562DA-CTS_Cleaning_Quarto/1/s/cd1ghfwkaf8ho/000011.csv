"0","spp_list <- c(unique(cts_table$Den.Species))"
"0","spp_pattern <- paste(tolower(spp_list), collapse = ""|"") #to lower case to normalize characters"
"0",""
"0","cts_table %<>% "
"0","  mutate(notes_lower = tolower(Notes)) %>% #create a column of lowercase notes for better matching"
"0","  mutate(note_spp = "
"0","           ifelse("
"0","            stri_detect_regex("
"0","              notes_lower,"
"0","              spp_pattern"
"0","              ), #if one of the pattern words is found in the notes return TRUE"
"0","            stri_extract("
"0","              notes_lower,"
"0","              regex = spp_pattern"
"0","              ), #if TRUE, return the detected word"
"0","          ""--""))"
"0",""
"0","#check for double observations"
"0","cts_table %>% "
"0","  filter(Den.Species!=""None"" & note_spp!=""--"") %>%"
"0","  select(c(Den.Species,note_spp))"
